<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Electron on 映屿</title><link>https://www.glowisle.me/tags/electron/</link><description>Recent content in Electron on 映屿</description><generator>Hugo</generator><language>zh-CN</language><managingEditor>i@glowisle.me (五葉地錦)</managingEditor><webMaster>i@glowisle.me (五葉地錦)</webMaster><lastBuildDate>Sat, 31 May 2025 09:07:36 +0800</lastBuildDate><atom:link href="http://www.glowisle.me/tags/electron/atom.xml" rel="self" type="application/rss+xml"/><item><title>Electron CommonJS require踩坑</title><link>https://www.glowisle.me/posts/electron-commonjs-require%E8%B8%A9%E5%9D%91/</link><pubDate>Sat, 31 May 2025 09:07:36 +0800</pubDate><author>i@glowisle.me (五葉地錦)</author><guid>https://www.glowisle.me/posts/electron-commonjs-require%E8%B8%A9%E5%9D%91/</guid><description>&lt;p&gt;最近在开发一个Electron项目，在导入类的时候有以下报错:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;node:internal/modules/cjs/loader:1411 Uncaught Error: Cannot find module &amp;#39;./File&amp;#39;
Require stack:
- E:\Develop\markdown-editor\src\html\index.html
 at Module._resolveFilename (node:internal/modules/cjs/loader:1408:15)
 at a._resolveFilename (node:electron/js2c/renderer_init:2:2643)
 at defaultResolveImpl (node:internal/modules/cjs/loader:1064:19)
 at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1069:22)
 at Module._load (node:internal/modules/cjs/loader:1218:37)
 at c._load (node:electron/js2c/node_init:2:17950)
 at s._load (node:electron/js2c/renderer_init:2:31718)
 at TracingChannel.traceSync (node:diagnostics_channel:322:14)
 at wrapModuleLoad (node:internal/modules/cjs/loader:242:24)
 at Module.require (node:internal/modules/cjs/loader:1494:12)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;提示找不到模块。&lt;/p&gt;
&lt;p&gt;Electron中，使用require语句导入，都是默认从项目跟目录开始查找，所以要拼接完整路径。使用绝对路径也是不行的，在IDE里可以跳转，但是一运行就是找不到模块
&lt;code&gt;const File = require(&amp;quot;src/js/File&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;Uncaught Error: Cannot find module &amp;#39;src/js/File&amp;#39;
Require stack:
- E:\Develop\markdown-editor\src\html\index.html
 at Module._resolveFilename (node:internal/modules/cjs/loader:1408:15)
 at a._resolveFilename (node:electron/js2c/renderer_init:2:2643)
 at defaultResolveImpl (node:internal/modules/cjs/loader:1064:19)
 at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1069:22)
 at Module._load (node:internal/modules/cjs/loader:1218:37)
 at c._load (node:electron/js2c/node_init:2:17950)
 at s._load (node:electron/js2c/renderer_init:2:31718)
 at TracingChannel.traceSync (node:diagnostics_channel:322:14)
 at wrapModuleLoad (node:internal/modules/cjs/loader:242:24)
 at Module.require (node:internal/modules/cjs/loader:1494:12)
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="解决方法"&gt;解决方法&lt;/h2&gt;
&lt;p&gt;使用path.join拼接完整路径&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#c678dd"&gt;const&lt;/span&gt; &lt;span style="color:#e06c75"&gt;File&lt;/span&gt; &lt;span style="color:#56b6c2"&gt;=&lt;/span&gt; &lt;span style="color:#e06c75"&gt;require&lt;/span&gt;(&lt;span style="color:#e06c75"&gt;path&lt;/span&gt;.&lt;span style="color:#e06c75"&gt;join&lt;/span&gt;(&lt;span style="color:#e06c75"&gt;__dirname&lt;/span&gt;, &lt;span style="color:#98c379"&gt;&amp;#34;../js/File.js&amp;#34;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;经过测试，只能用这种方法导入，太怪了&lt;/p&gt;</description></item></channel></rss>