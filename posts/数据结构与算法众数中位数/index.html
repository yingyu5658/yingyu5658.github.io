<!doctype html>
<html lang="zh-CN">
  <head>
    <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://www.glowisle.me/favicon.png" />
<title>【数据结构与算法】众数、中位数</title>
<meta name="title" content="【数据结构与算法】众数、中位数" />
<meta name="description" content="今天学这个东西的时候，看到这种线性的数据结构加上排序步骤，很难不想写个程序来跑跑。
先来说说中位数，这个比较有思路。
中位数
具体的操作步骤应该是：排序 =&gt; 获得数据元素个数n =&gt; 是奇数 ? (n&#43;1) / 2 : n / 2" />
<meta name="keywords" content="数据结构与算法," />

<link rel="canonical" href="https://www.glowisle.me/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%BC%97%E6%95%B0%E4%B8%AD%E4%BD%8D%E6%95%B0/">


<meta property="og:url" content="https://www.glowisle.me/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%BC%97%E6%95%B0%E4%B8%AD%E4%BD%8D%E6%95%B0/">
  <meta property="og:site_name" content="映屿">
  <meta property="og:title" content="【数据结构与算法】众数、中位数">
  <meta property="og:description" content="今天学这个东西的时候，看到这种线性的数据结构加上排序步骤，很难不想写个程序来跑跑。
先来说说中位数，这个比较有思路。
中位数 具体的操作步骤应该是：排序 =&gt; 获得数据元素个数n =&gt; 是奇数 ? (n&#43;1) / 2 : n / 2">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-05-27T19:41:53+00:00">
    <meta property="article:modified_time" content="2025-05-27T19:41:53+00:00">
    <meta property="article:tag" content="数据结构与算法">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="【数据结构与算法】众数、中位数">
  <meta name="twitter:description" content="今天学这个东西的时候，看到这种线性的数据结构加上排序步骤，很难不想写个程序来跑跑。
先来说说中位数，这个比较有思路。
中位数 具体的操作步骤应该是：排序 =&gt; 获得数据元素个数n =&gt; 是奇数 ? (n&#43;1) / 2 : n / 2">




  <meta itemprop="name" content="【数据结构与算法】众数、中位数">
  <meta itemprop="description" content="今天学这个东西的时候，看到这种线性的数据结构加上排序步骤，很难不想写个程序来跑跑。
先来说说中位数，这个比较有思路。
中位数 具体的操作步骤应该是：排序 =&gt; 获得数据元素个数n =&gt; 是奇数 ? (n&#43;1) / 2 : n / 2">
  <meta itemprop="datePublished" content="2025-05-27T19:41:53+00:00">
  <meta itemprop="dateModified" content="2025-05-27T19:41:53+00:00">
  <meta itemprop="wordCount" content="796">
  <meta itemprop="keywords" content="数据结构与算法">
<meta name="referrer" content="no-referrer-when-downgrade" />

    <style>
 @font-face {
     font-family: "Source Serif Pro";
     src: url("/fonts/SourceSerifPro-Regular.otf");
 }

 div.footnotes hr::before {
     content: "Footnotes";
     display: block;
     font-size: 1.5em;
     color: var(--bold-text-color);
     margin-top: 16px;

 }

 .recent-posts p {
     line-height: 35px;
 }

 .recent-posts-item {
     margin: 0;
     margin-bottom: 120px;
 }

 .recent-post-title {
     margin: 2px 0 -10px 0;
 }

 .post-meta {
     margin-top: 20px;
     margin-bottom: 5px;
 }

 .recent-item {
     position: relative;
     margin-bottom: 8px;
     display: flex;
     align-items: flex-start;
 }

 .item-link {
     width: 100%;
     display: inline-block;
     text-decoration: none;
     flex: 1;
     overflow: hidden;
     text-overflow: ellipsis;
     font-size: 1.6em;
     word-wrap: break-word;
     white-space: normal;
     word-wrap: break-word;
 }

 .post-date {
     font-size: 0.9em;
     color: #666;
     display: inline-block;
     min-width: 80px;
     flex-shrink: 0;
 }

 .recent-empty {
     text-align: center;
     font-style: italic;
 }

  
  

 @media (max-width: 720px) {
     .post-date {
         min-width: auto;
         font-size: 0.85em;
     }

     .recent-post-title {
         font-size: 1.05em;
     }

     .item-link {
         white-space: normal;
         overflow: visible;
     }
 }


 .post-meta-item svg {
     display: inline;
     width: var(--svg-size);
     height: var(--svg-size);
 }

 .post-meta-item {
     margin-right: 0.8em;
     display: inline-block;
     font-size: var(--font-size-secondary);
 }

 .post-tag a {
     font-size: var(--font-size-secondary) !important;
 }
 .post-meta-item p {
     margin: 0;
 }

 .recent-posts .post-meta {
     margin-bottom: 6em;
 }

 :root {
     --width-max: 700px;
     --font-primary: "Source Serif Pro", "Source Han Serif SC", serif;
     --font-secondary: monospace;
     --font-size-primary: 1.15rem;
     --font-size-secondary: 1rem;
     --body-bg-color: #fffaed;
     --bold-text-color: #222;
     --body-text-color: #444;
     --link-color: #222;
     --link-visited-color: #222;
     --table-border-color: #f2f2f2;
     --table-th-bg-color: #f2f2f2;
     --img-border-color: #f2f2f2;
     --code-bg-color: #f2f2f2;
     --code-text-color: #222;
     --blockquote-border-color: #666;
     --blockquote-text-color: #646464;
     --upvoted-color: #fa8072;
     --caption-text-color: #666;
     --toc-text-color: #e5e5e5;
     --toc-hover-color: #655e5e;

     --music-bg-hover-light: #e5e5e5;  
     --music-bg-light: rgba(229, 229, 229, 0.5);  
     --music-text-secondary: #666;
     --music-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
     0 4px 6px -2px rgba(0, 0, 0, 0.05);
     --summary-text-color: #4e4e4e;
     --svg-size: 0.85em;
 }

 div.summary a,
 div.summary strong,
 div.summary p {
     margin-bottom: 0;
 }

 .social-icons {
     margin: 15px;
     margin-top: 5px;
     text-align: center;
 }

 .social-icons a {
     padding: 5px 5px;
 }

 .booklist {
     display: grid;
     grid-template-columns: repeat(5, 1fr);
     gap: 20px;
 }

 .booklist-item {
     transform: translateZ(0);
     transition: transform 0.25s, box-shadow 0.25s;
     box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
 }

 .booklist-item img {
     height: 100%;
 }

 .booklist-item:hover {
     transform: translateY(-5px) translateZ(20px);
     box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
 }

 .rss-icon {
     display: inline;
     font-size: 16px;
     float: right;
     font-family: var(--font-primary);
 }

 img.missing {
     display: none;
 }

 nav a,
 h1.post-title a,
 .blog-posts li a {
     text-decoration: none !important;
 }

 nav a:hover,
 .post-title a:hover,
 .blog-posts a:hover {
     text-decoration: underline 0.5px !important;
 }

 .wm {
     border: 1px #d0d7de solid;
     border-radius: 0.25em;
     padding-top: 0;
     padding: 1.5vw;
     background-color: #fffaed;
     margin-top: 1vh;
 }

 .wm p {
     margin-top: 1px;
 }

 article p, .summary p {
     line-height: 35px;
     margin-top: 20px;
     font-weight: 400;
 }

 .item-link {
     white-space: nowrap;
     overflow: hidden;
 }

 h1.post-title {
     margin-top: 2vh;
     margin-bottom: 10px;
 }

 h1.post-title a {
     font-weight: 700;
 }

 .recent-list {
     padding-left: 2vw;
 }

 .recent-item {
     list-style-type: none;
 }

 .post-date {
     display: inline;
 }

 .post-date,
 .post-date-shortcode {
     margin-left: auto;
 }

 .music-card img {
     border: none !important;
 }

  
  
 .music-card {
     display: flex;
     flex-direction: column;
     gap: 0.5rem;
     width: 100%;
 }

  
  
 .music-info {
     display: flex;
     align-items: center;
     gap: 1.25rem;
 }

  
  
 .music-cover {
     width: 3.75rem;  
     height: 3.75rem;
     border-radius: 0.5rem;
     box-shadow: var(--music-shadow);
     margin: 0 !important;
     object-fit: cover;
 }

  
 .music-title {
     margin: 0;
     font-size: 1rem;  
     font-weight: bold;
     line-height: 1.2;
 }

 .music-artist {
     margin: 0;
     font-size: 0.875rem;  
     color: var(--music-text-secondary);
 }

  
  
 .music-links {
     display: flex;
     align-items: center;
     gap: 0.5rem;
 }

  
  
 .music-btn {
     display: inline-flex;
     align-items: center;
     gap: 0.25rem;
     padding: 0 0.75rem;  
     height: 2rem;
     border-radius: 9999px;  
     text-decoration: none !important;
     font-size: 0.75rem;  
     transition: background-color 0.3s ease;

      
     background-color: var(--music-bg-light);
     color: inherit;
 }

 .music-btn:hover {
     background-color: var(--music-bg-hover-light);
 }

  
  
 .music-icon {
     display: block;
     width: 0.75rem;
     height: 0.75rem;
     margin: 0 !important;
 }

  
 .music-btn-text {
     display: inline;
 }

  
 @media (min-width: 768px) {
      
      
     .music-card {
         flex-direction: row;
         justify-content: space-between;
         align-items: center;
     }

      
      
     .music-btn {
         padding: 1rem;
         justify-content: center;
         width: auto;
         height: auto;
     }

      
      
     .music-icon {
         width: 1.25rem;
         height: 1.25rem;
     }

      
      
     .music-btn-text {
         display: none;
     }
 }

  
 @media (prefers-color-scheme: dark) {
     :root {
         --summary-text-color: #c9c6c5;
         --body-bg-color: #121212;
         --bold-text-color: #eee;
         --body-text-color: #ddd;
         --link-color: #ddd;
         --link-visited-color: #c3b1ee;
         --table-border-color: #999;
         --table-th-bg-color: #999;
         --img-border-color: #999;
         --code-bg-color: #141414;
         --code-text-color: #ddd;
         --blockquote-border-color: #7b7b7b;
         --blockquote-text-color: #acacac;
         --caption-text-color: #aaa;
         --toc-text-color: #373737;
         --toc-hover-color: #cac3c3;
         --music-bg-hover-dark: #525252;
         --music-bg-dark: rgba(82, 82, 82, 0.5);
         --music-text-secondary: #a3a3a3;
         --color-background: var(--body-bg-color) !important;
     }

     .post-meta-item svg {
         filter: invert(1) hue-rotate(180deg);
     }



     div.summary a {
         text-decoration: underline 0.1px #5e5e5e;
     }

     strong {
         font-weight: 650;
     }

     .music-btn {
         background-color: var(--music-bg-dark);
     }
     .music-btn:hover {
         background-color: var(--music-bg-hover-dark);
     }

     .category-link {
         color: #dbdbdb;
     }

     .wm {
         background-color: #161b22;
         border-color: #30363d;
         color: var(--body-text-color);
         padding: 10px;
     }

     .wm input {
         background-color: #010409;
         border: #30363d 1px solid;
         color: var(--body-text-color);
         outline: none;
         transition: border-color 0.2s ease-in-out;
     }

     #webmention-source:focus {
         border-color: var(--color-accent-fg, #0969da);
         box-shadow: 0 0 0 3px rgba(9, 105, 218, 0.1);
     }

     .wm button {
         color: var(--body-text-color);
         background-color: #161b22;
         border: #30363d 1px solid;
     }

     .post-title a,
     {
         color: #fff !important;
     }

     .post-summary {
         color: var(--text-color-primary) !important;
     }

     .post-item {
         border-bottom: 1px solid #414141 !important;
     }

     .pagination-link {
         border: 1px solid #414141 !important;
     }

     a {
         font-weight: 500 !important;
     }
 }

 body {
     font-family: var(--font-primary);
     font-size: var(--font-size-primary);
     margin: auto;
     padding: 20px;
     max-width: var(--width-max);
     text-align: left;
     background-color: var(--body-bg-color);
     word-wrap: break-word;
     overflow-wrap: break-word;
     line-height: 1.6;
     color: var(--body-text-color);
 }

 h1,
 h2,
 h3,
 h4,
 h5,
 h6,
 strong,
 b {
     color: var(--bold-text-color);
 }

 article h1,
 article h2,
 article h3,
 article h4,
 article h5,
 article h6 {
     margin: 16px 0;
 }

 a {
     color: var(--link-color);
     cursor: pointer;
     text-decoration: underline 0.2px #5e5e5e;
     transition-duration: 0.3s;
     font-weight: 600;
 }

 .posts-list li {
     margin-bottom: 12px;
 }

 .title {
     text-align: center;
     text-decoration: none !important;
 }

 a.title h1 {
     margin: 15px;
     margin-bottom: 15px;
 }

 header {
     margin-top: 30px;
 }

 .title:hover {
     text-decoration: none;
 }

 .title span {
     font-weight: 400;
 }

 nav {
     text-align: center;
     margin-bottom: 20px;
 }

 nav a {
     margin-right: 8px;
 }

 textarea {
     width: 100%;
     font-size: 16px;
 }

 input {
     font-size: 14px;
 }

 article {
     line-height: 1.6;
 }

 table {
     width: 100%;
     border-collapse: collapse;
     border: 1px solid var(--table-border-color);
     border-radius: 4px;
     margin-top: 16px;
 }

 th,
 td {
     border: 1px solid var(--table-border-color);
     padding: 4px;
 }

 th {
     background-color: var(--table-th-bg-color);
 }

 hr {
     border: 0;
     border-top: 1px dashed;
 }

 img {
     max-width: 100%;
     display: block;
     margin-left: auto;
     margin-right: auto;
     content-visibility: auto;
     loading: lazy;
 }

 img[src*="#minipic"] {
     max-width: 50%;
     margin-left: 0;
     margin-right: auto;
 }

 .image-caption figcaption {
     text-align: center;
     font-style: italic;
     font-size: 0.8em;
     margin-top: 0.6em;
     color: var(--caption-text-color);
 }

 .image-caption {
     margin: auto;
 }

 i {
     font-style: normal;
 }

 time {
     font-family: var(--font-primary);
     color: var(--body-text-color);
 }

 code {
     font-family: var(--font-secondary);
     background-color: var(--code-bg-color);
     color: var(--code-text-color);
     padding: 2px;
     border-radius: 4px;
 }

 pre code {
     display: block;
     padding: 16px;
     white-space: pre-wrap;
     overflow-x: auto;
 }

 div.highlight pre {
     border-radius: 4px;
 }

 div.highlight code {
     background-color: var(--code-bg-color);
     color: var(--code-text-color);
 }

 blockquote {
      
     color: var(--blockquote-text-color);
     margin: 0;
     margin-top: 17px;
     padding-left: 20px;
     font-style: normal;
 }

 footer {
     padding: 25px 0;
     text-align: left;
     font-size: var(--font-size-secondary);
 }

 ul li:has(input) {
     list-style-type: none;
     margin-left: -25.5px;
 }

  
 ul.blog-posts {
     list-style-type: none;
     padding: unset;
 }

 ul.blog-posts li {
     display: flex;
     margin-bottom: 8px;
 }

 ul.blog-posts li span {
     flex: 0 0 130px;
 }

 ul.blog-posts li span.grouped {
     flex: 0 0 80px;
 }

 ul.blog-posts li a:visited {
     color: var(--link-visited-color);
 }

 ul.blog-posts a {
     margin-left: 10px;
     white-space: nowrap;
     overflow: hidden;
     text-overflow: ellipsis;
 }
  
 div.toc {
     position: fixed;  
     top: 50%;  
     left: calc(
         (100vw + var(--width-max)) / 2
     );  
     transform: translateY(-50%);  
     width: calc((90vw - var(--width-max)) / 2);  
     max-height: 80vh;  
     overflow-y: auto;  
     border: none;  
     padding: 0;  
     margin: 0;  
     z-index: 99;  

      
     &::-webkit-scrollbar {
          
         display: none;  
     }

     -ms-overflow-style: none;  
     scrollbar-width: none;  
 }

 .toc-nav {
      
     padding: 1.5rem;  
 }

 .toc-nav ul {
      
     list-style: none;  
     padding: 0;  
     margin: 0;  
 }

 .toc-nav li {
      
     margin: 8px 0;  
 }

 .toc-nav a {
      
     display: block;  
     text-decoration: none;  
     color: transparent;  
     padding: 0 12px;  
     transition: all 0.2s ease;  
     font-size: 0.9rem;  
     line-height: 1.4;  
     text-align: left;  
     white-space: nowrap;  
     overflow: hidden;  
     text-overflow: ellipsis;  
     max-width: 100%;  
 }

 .toc-nav:hover a {
     color: var(--toc-text-color);  
 }

 .toc-nav a::before {
      
     content: "";  
     display: inline-block;  
     width: 16px;  
     height: 4px;  
     background-color: var(--toc-text-color);  
     border-radius: 16px;  
     margin-right: 12px;  
     vertical-align: middle;  
 }

 .toc-nav ul ul a::before {
      
     width: 12px;  
     margin-right: 16px;  
 }

 .toc-nav ul ul ul a::before {
      
     width: 8px;  
     margin-right: 20px;  
 }

 .toc-nav a.active,  
 .toc-nav a:hover {
     text-decoration: none;  
     color: var(--toc-hover-color);  
 }

 .toc-nav a.active::before,  
 .toc-nav a:hover::before {
     background-color: var(--toc-hover-color);  
 }

  
 button.upvote-btn {
     margin: 0;
     margin-left: auto;
     padding: 0;
     border: none;
     background: none;
     cursor: pointer;
     display: flex;
     flex-direction: column;
     align-items: center;
     color: var(--body-text-color);
 }

 button.upvoted {
     color: var(--upvoted-color);
 }

 span.upvote-count {
     margin-top: -4px;
     font-size: smaller;
 }

 @media (max-width: 800px) {
     img[src*="#minipic"] {
         max-width: 100%;
         margin-left: auto;
         margin-right: auto;
     }

     div.toc {
         display: none;
     }
 }

 @media (max-width: 700px) {
     .booklist {
         display: grid;
         grid-template-columns: repeat(3, 1fr);
         gap: 10px;
     }
 }

 @media (max-width: 400px) {
     .booklist {
         display: grid;
         grid-template-columns: repeat(2, 1fr);
         gap: 10px;
     }
 }
</style>
<meta name="msvalidate.01" content="2E1AACF009206F2DDBAAD4B98E881460" />
<meta name="fediverse:creator" content="@Verdant@c7.io" />
<link
  rel="prefetch"
  as="image"
  href="https://www.blogsclub.org/badge/www.glowisle.me"
/>
<link href="https://github.com/yingyu5658" rel="me" />
<link href="https://c7.io/@Verdant" rel="me" />
<link
  rel="webmention"
  href="https://webmention.io/www.glowisle.me/webmention"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/><link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
/>
</head>

  <body>
    <main>
<header><a href="/" class="title">
  <h1>映屿</h1>
</a>
<nav>
<a href="/categories/">分类</a>

<a href="/readings">书单</a>

<a href="/links/">友人</a>

<a href="/archives">归档</a>

<a href="/about">关于</a>


</nav>
<div class="social-icons">
    <a href="https://c7.io/@Verdant"><i class="fa-brands fa-mastodon"></i></a>
    <a href="https://github.com/yingyu5658/"><i class="fa-brands fa-github"></i></a>
    <a href="mailto:i@glowisle.me"><i class="fa-solid fa-envelope"></i></a>
</div>
<hr>
</header>

<article class="h-entry">
<h3 class="recent-post-title">
      <a href="/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%BC%97%E6%95%B0%E4%B8%AD%E4%BD%8D%E6%95%B0/" class="item-link">【数据结构与算法】众数、中位数</a>
    </h3>

  <div class="e-content"><p>今天学这个东西的时候，看到这种线性的数据结构加上排序步骤，很难不想写个程序来跑跑。</p>
<p>先来说说中位数，这个比较有思路。</p>
<h2 id="中位数">中位数</h2>
<p>具体的操作步骤应该是：<strong>排序 =&gt; 获得数据元素个数n =&gt; 是奇数 ? (n+1) / 2 : n / 2</strong></p>
<p>那么排序就用之前学的冒泡排序，这种题目大概不会完全倒序给数据，编写sort函数：</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5c07b">void</span> <span style="color:#61afef;font-weight:bold">sort</span>(<span style="color:#e5c07b">int</span> <span style="color:#e06c75">arr</span>[], <span style="color:#e5c07b">int</span> <span style="color:#e06c75">n</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">for</span> (<span style="color:#e5c07b">int</span> <span style="color:#e06c75">i</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>; <span style="color:#e06c75">i</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#e06c75">n</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">1</span>; <span style="color:#e06c75">i</span><span style="color:#56b6c2">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">for</span> (<span style="color:#e5c07b">int</span> <span style="color:#e06c75">j</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>; <span style="color:#e06c75">j</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#e06c75">n</span> <span style="color:#56b6c2">-</span> <span style="color:#e06c75">i</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">1</span>; <span style="color:#e06c75">j</span><span style="color:#56b6c2">++</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#c678dd">if</span> (<span style="color:#e06c75">arr</span>[<span style="color:#e06c75">j</span>] <span style="color:#56b6c2">&gt;</span> <span style="color:#e06c75">arr</span>[<span style="color:#e06c75">j</span> <span style="color:#56b6c2">+</span> <span style="color:#d19a66">1</span>]) {
</span></span><span style="display:flex;"><span>        <span style="color:#e5c07b">int</span> <span style="color:#e06c75">temp</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">arr</span>[<span style="color:#e06c75">j</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">arr</span>[<span style="color:#e06c75">j</span>] <span style="color:#56b6c2">=</span> <span style="color:#e06c75">arr</span>[<span style="color:#e06c75">j</span> <span style="color:#56b6c2">+</span> <span style="color:#d19a66">1</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">arr</span>[<span style="color:#e06c75">j</span> <span style="color:#56b6c2">+</span> <span style="color:#d19a66">1</span>] <span style="color:#56b6c2">=</span> <span style="color:#e06c75">temp</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>接下来是判断奇偶，奇偶的判断非常简单，对取模运算的值比对就可以，编写is_even函数，判断奇偶性。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5c07b">int</span> <span style="color:#61afef;font-weight:bold">is_even</span>(<span style="color:#e5c07b">int</span> <span style="color:#e06c75">data</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">if</span> (<span style="color:#e06c75">data</span> <span style="color:#56b6c2">%</span> <span style="color:#d19a66">2</span> <span style="color:#56b6c2">==</span> <span style="color:#d19a66">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span> <span style="color:#e5c07b">true</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#c678dd">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">return</span> <span style="color:#e5c07b">false</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>完成了奇偶判断，下一步就可以正式进行中位数的运算，编写get_median函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5c07b">double</span> <span style="color:#61afef;font-weight:bold">get_median</span>(<span style="color:#e5c07b">int</span> <span style="color:#e06c75">arr</span>[], <span style="color:#e5c07b">int</span> <span style="color:#e06c75">length</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#7f848e">// 获取索引
</span></span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">double</span> <span style="color:#e06c75">result</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">sort</span>(<span style="color:#e06c75">arr</span>, <span style="color:#e06c75">length</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">if</span> (<span style="color:#61afef;font-weight:bold">is_even</span>(<span style="color:#e06c75">length</span>)) {
</span></span><span style="display:flex;"><span>    <span style="color:#e5c07b">int</span> <span style="color:#e06c75">median_index_1</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">arr</span>[(<span style="color:#e06c75">length</span> <span style="color:#56b6c2">/</span> <span style="color:#d19a66">2</span>) <span style="color:#56b6c2">-</span> <span style="color:#d19a66">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#e5c07b">int</span> <span style="color:#e06c75">median_index_2</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">arr</span>[<span style="color:#e06c75">length</span> <span style="color:#56b6c2">/</span> <span style="color:#d19a66">2</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// 计算数据
</span></span></span><span style="display:flex;"><span>    <span style="color:#e06c75">result</span> <span style="color:#56b6c2">=</span> (<span style="color:#e06c75">median_index_1</span> <span style="color:#56b6c2">+</span> <span style="color:#e06c75">median_index_2</span>) <span style="color:#56b6c2">/</span> <span style="color:#d19a66">2.0</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#c678dd">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">result</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">arr</span>[<span style="color:#e06c75">length</span> <span style="color:#56b6c2">/</span> <span style="color:#d19a66">2</span>];
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">return</span> <span style="color:#e06c75">result</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>这个函数首先计算了中位数在数组的哪个索引，然后进行了计算。</p>
<h2 id="众数">众数</h2>
<p>众数（Mode）是指在<a href="https://baike.baidu.com/item/%E7%BB%9F%E8%AE%A1%E5%88%86%E5%B8%83/8478867?fromModule=lemma_inlink">统计分布</a>上具有明显集中趋势点的<a href="https://baike.baidu.com/item/%E6%95%B0%E5%80%BC/2013853?fromModule=lemma_inlink">数值</a>，代表<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE/33305?fromModule=lemma_inlink">数据</a>的一般水平。 也是一组数据中出现次数最多的数值，有时众数在一组数中有好几个。用M表示。</p>
<p>那么，在程序中，想要计算一个值出现的次数并比对，可拆分为两步。</p>
<ol>
<li>计算出每一个数据出现的次数</li>
<li>结果排序比对</li>
<li>找出最大值</li>
</ol>
<p>我没学过什么高级的数据结构，就用这个复制数组的笨办法吧。</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5c07b">int</span> <span style="color:#61afef;font-weight:bold">get_mode</span>(<span style="color:#e5c07b">int</span> <span style="color:#e06c75">arr</span>[], <span style="color:#e5c07b">int</span> <span style="color:#e06c75">length</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">copy_arr</span> <span style="color:#56b6c2">=</span> <span style="color:#61afef;font-weight:bold">malloc</span>(<span style="color:#e06c75">length</span> <span style="color:#56b6c2">*</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e5c07b">int</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">memcpy</span>(<span style="color:#e06c75">copy_arr</span>, <span style="color:#e06c75">arr</span>, <span style="color:#e06c75">length</span> <span style="color:#56b6c2">*</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e5c07b">int</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">sort</span>(<span style="color:#e06c75">copy_arr</span>, <span style="color:#e06c75">length</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">max_count</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">current_count</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">1</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">mode</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">copy_arr</span>[<span style="color:#d19a66">0</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">for</span> (<span style="color:#e5c07b">int</span> <span style="color:#e06c75">i</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">1</span>; <span style="color:#e06c75">i</span> <span style="color:#56b6c2">&lt;</span> <span style="color:#e06c75">length</span>; <span style="color:#e06c75">i</span><span style="color:#56b6c2">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#c678dd">if</span> (<span style="color:#e06c75">copy_arr</span>[<span style="color:#e06c75">i</span>] <span style="color:#56b6c2">==</span> <span style="color:#e06c75">copy_arr</span>[<span style="color:#e06c75">i</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">1</span>]) {
</span></span><span style="display:flex;"><span>      <span style="color:#e06c75">current_count</span><span style="color:#56b6c2">++</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#c678dd">else</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#c678dd">if</span> (<span style="color:#e06c75">current_count</span> <span style="color:#56b6c2">&gt;</span> <span style="color:#e06c75">max_count</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">max_count</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">current_count</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#e06c75">mode</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">copy_arr</span>[<span style="color:#e06c75">i</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">1</span>];
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#e06c75">current_count</span> <span style="color:#56b6c2">=</span> <span style="color:#d19a66">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">if</span> (<span style="color:#e06c75">current_count</span> <span style="color:#56b6c2">&gt;</span> <span style="color:#e06c75">max_count</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#e06c75">mode</span> <span style="color:#56b6c2">=</span> <span style="color:#e06c75">copy_arr</span>[<span style="color:#e06c75">length</span> <span style="color:#56b6c2">-</span> <span style="color:#d19a66">1</span>];
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">free</span>(<span style="color:#e06c75">copy_arr</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#c678dd">return</span> <span style="color:#e06c75">mode</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>这个函数干了以下几件事：</p>
<ul>
<li>复制数组</li>
<li>排序复制好的数组</li>
<li>对比数组元素，如果array[i] == array[i - 1]，出现次数+1</li>
<li>如果遇到新元素，检查是否需要更新最大值</li>
<li>动态更新众数值</li>
</ul>
<p>测试跑一把，输出如下</p>
<div class="highlight"><pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5c07b">int</span> <span style="color:#61afef;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">arr</span>[] <span style="color:#56b6c2">=</span> {<span style="color:#d19a66">1</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">1</span>, <span style="color:#d19a66">2</span>, <span style="color:#d19a66">2</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">5</span>, <span style="color:#d19a66">7</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">4</span>, <span style="color:#d19a66">2</span>};
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">length</span> <span style="color:#56b6c2">=</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e06c75">arr</span>) <span style="color:#56b6c2">/</span> <span style="color:#c678dd">sizeof</span>(<span style="color:#e06c75">arr</span>[<span style="color:#d19a66">0</span>]);
</span></span><span style="display:flex;"><span>  <span style="color:#e5c07b">int</span> <span style="color:#e06c75">result</span> <span style="color:#56b6c2">=</span> <span style="color:#61afef;font-weight:bold">get_mode</span>(<span style="color:#e06c75">arr</span>, <span style="color:#e06c75">length</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#61afef;font-weight:bold">printf</span>(<span style="color:#98c379">&#34;result = %d</span><span style="color:#98c379">\n</span><span style="color:#98c379">&#34;</span>, <span style="color:#e06c75">result</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><pre tabindex="0"><code>result = 4
</code></pre><p><del>这个办法实在是有点蠢，找时间仔细学学哈希表，应该能更快。</del></p>
</div>
</article>
<a class="u-url" href="https://www.glowisle.me/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%BC%97%E6%95%B0%E4%B8%AD%E4%BD%8D%E6%95%B0/" style="display: none">Permalink</a>

<hr>


<div class="post-meta">

    <div class="post-meta-item post-author">
        
        <p>
            <svg t="1768726817979" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4715" width="200" height="200"><path d="M858.5 763.6c-18.9-44.8-46.1-85-80.6-119.5-34.5-34.5-74.7-61.6-119.5-80.6-0.4-0.2-0.8-0.3-1.2-0.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-0.4 0.2-0.8 0.3-1.2 0.5-44.8 18.9-85 46-119.5 80.6-34.5 34.5-61.6 74.7-80.6 119.5C146.9 807.5 137 854 136 901.8c-0.1 4.5 3.5 8.2 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c0.1 4.4 3.6 7.8 8 7.8h60c4.5 0 8.1-3.7 8-8.2-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z" p-id="4716"></path></svg>
            Verdant
        </p>
        
    </div>

    <div class="post-meta-item post-date">
        <svg t="1768727464189" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5925" width="200" height="200"><path d="M341.333333 170.666667h341.333334V85.333333h85.333333v85.333334h42.666667a85.333333 85.333333 0 0 1 85.333333 85.333333v597.333333a85.333333 85.333333 0 0 1-85.333333 85.333334H213.333333a85.333333 85.333333 0 0 1-85.333333-85.333334V256a85.333333 85.333333 0 0 1 85.333333-85.333333h42.666667V85.333333h85.333333v85.333334zM213.333333 341.333333v512h597.333334V341.333333H213.333333z m85.333334 128h85.333333v85.333334H298.666667v-85.333334z m170.666666 0h85.333334v85.333334h-85.333334v-85.333334z m170.666667 0h85.333333v85.333334h-85.333333v-85.333334z m0 170.666667h85.333333v85.333333h-85.333333v-85.333333z m-170.666667 0h85.333334v85.333333h-85.333334v-85.333333z m-170.666666 0h85.333333v85.333333H298.666667v-85.333333z" fill="#000000" p-id="5926"></path></svg>
        <time class="dt-published" datetime="2025-05-27T19:41:53Z">

            May 27, 2025
        </time>
    </div>

    <div class="post-meta-item post-category">
        <svg t="1768727819011" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7095" width="200" height="200"><path d="M85.312 153.6v716.8h853.376V288H471.36L364.416 153.6h-279.04zM0 64h404.288L511.36 198.4H1024V960H0V64z" fill="#262626" p-id="7096"></path></svg>
        
        
        <a href="/categories/%E5%BE%80%E6%98%94/" class="category-link">往昔</a>
        
    </div>

    <div class="post-meta-item post-tag">
        <svg t="1768727897449" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8070" width="200" height="200"><path d="M512 910.208L910.208 512 480.832 82.624l-378.816 24.448-19.776 373.376L512 910.208zM0 512L25.472 31.36 512 0l512 512-512 512-512-512z m293.376-128.96a85.952 85.952 0 1 0 0-171.904 85.952 85.952 0 0 0 0 171.904z" fill="#262626" p-id="8071"></path></svg>
        
        
        
        <a href="https://www.glowisle.me/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a>
        
        
    </div>
</div>



 
<div class="upvote-container">
  <small class="upvote">
    <button class="upvote-btn" id="upvote-btn">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        width="24"
        height="24"
        stroke="currentColor"
        stroke-width="2"
        fill="none"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="css-i6dzq1"
      >
        <polyline points="17 11 12 6 7 11"></polyline>
        <polyline points="17 18 12 13 7 18"></polyline>
      </svg>
      <span class="upvote-count" id="upvote-count">0</span>
    </button>
  </small>
</div>


<script>
  let hasUpvoted = false;
  let upvoteBtn;
  let upvoteCount;

  
  document.addEventListener("DOMContentLoaded", function () {
    const slug = "";
    upvoteBtn = document.getElementById("upvote-btn");
    upvoteCount = document.getElementById("upvote-count");
    getCount(slug);

    
    upvoteBtn.addEventListener("click", handleUpvote);
  });

  
  async function handleUpvote() {
    if (hasUpvoted) {
      console.log("You have already upvoted this post!");
      return;
    }
    const slug = "";

    
    upvoteBtn.disabled = true;
    
    upvoteBtn.classList.add("upvoted");
    
    upvoteCount.innerText = parseInt(upvoteCount.innerText) + 1;

    try {
      const response = await fetch("https:\/\/upvote.glowisle.me\/upvote", {
        method: "POST",
        mode: "cors",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ postId: slug, diff: 1 }),
      });

      if (response.ok) {
        console.log("Upvote successful!");
        hasUpvoted = true;
        await getCount(slug, 3);
      } else {
        console.log("Upvote failed!");
      }
    } catch (error) {
      console.error("Error: ", error);
    } finally {
      upvoteBtn.disabled = false;
    }
  }

  
  async function getCount(slug, retryCount = 0) {
    try {
      const response = await fetch(
        "https:\/\/upvote.glowisle.me\/count?post=" + slug,
        {
          method: "GET",
          headers: {
            "Content-Type": "application/json",
          },
        },
      );

      const data = await response.json();

      if (data.code === 0) {
        const count = data.data.count;
        upvoteCount.innerText = count;
        hasUpvoted = data.data.hasUpvoted;
        if (hasUpvoted) {
          upvoteBtn.classList.add("upvoted");
        } else {
          upvoteBtn.classList.remove("upvoted");
        }
      } else {
        console.error("Failed to get upvote count: ", data.msg);
      }
    } catch (error) {
      console.error("Error: ", error);
      if (retryCount > 0) {
        setTimeout(() => {
          getCount(slug, retryCount - 1);
        }, 1000);
      }
    }
  }
</script>



 
<div class="toc">

<nav class="toc-nav">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#中位数">中位数</a></li>
    <li><a href="#众数">众数</a></li>
  </ul>
</nav>
</nav>

<script>
    
    document.addEventListener('DOMContentLoaded', function () {
        const tocLinks = document.querySelectorAll('.toc-nav a');
        const headings = Array.from(tocLinks).map(link => {
            const id = link.getAttribute('href').replace('#', '');
            return document.getElementById(id);
        }).filter(h => h);

        
        tocLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').replace('#', '');
                const target = document.getElementById(targetId);
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });

                    
                    tocLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        
        function updateActiveLink() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;

            for (let i = headings.length - 1; i >= 0; i--) {
                const heading = headings[i];
                const rect = heading.getBoundingClientRect();

                if (rect.top <= 100) {
                    
                    tocLinks.forEach(link => link.classList.remove('active'));
                    
                    
                    const activeLink = document.querySelector(`.toc-nav a[href="#${heading.id}"]`);
                    if (activeLink) {
                        activeLink.classList.add('active');
                        
                        
                        let currentLi = activeLink.closest('li');
                        while (currentLi) {
                            const parentLi = currentLi.parentElement.closest('li');
                            if (parentLi) {
                                const parentLink = parentLi.querySelector('a');
                                if (parentLink) {
                                    parentLink.classList.add('active');
                                }
                                currentLi = parentLi;
                            } else {
                                break;
                            }
                        }
                    }
                    break;
                }
            }
        }

        
        let ticking = false;
        function throttleScroll() {
            if (!ticking) {
                requestAnimationFrame(function () {
                    updateActiveLink();
                    ticking = false;
                });
                ticking = true;
            }
        }

        window.addEventListener('scroll', throttleScroll);

        
        updateActiveLink();
    });
</script>
</div>
 
<div class="comments-and-webmentions">
  <details>
    <summary>
      <p style="display: inline">评论 与 Webmentions</p>
    </summary>
    <div id="giscus-container"></div>

    <div class="wm">
      <div id="webmentions"></div>
      <script
        src="/js/webmention.min.js"
        data-id="webmentions"
        data-page-url="https://www.glowisle.me/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%BC%97%E6%95%B0%E4%B8%AD%E4%BD%8D%E6%95%B0/"
        data-max-webmentions="50"
        data-wordcount="30"
        data-sort-by="published"
        data-sort-dir="up"
        async
      ></script>

      <p>
        若想回复本文，请在你的博客或社媒发布含有本文链接的帖子，然后在下方表单提交链接。
      </p>
      <div class="wm-guide-content">
        <div class="webmention-form">
          <form
            id="webmention-submit-form"
            action="https://webmention.io/www.glowisle.me/webmention"
            method="post"
          >
            
            <input
              type="hidden"
              name="target"
              value="https://www.glowisle.me/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E4%BC%97%E6%95%B0%E4%B8%AD%E4%BD%8D%E6%95%B0/"
            />
            <div>
              <label for="webmention-source">你的文章链接：</label>
              <input
                type="url"
                id="webmention-source"
                name="source"
                required
                pattern="https?://.+"
              />
              <button type="submit" id="webmention-submit-btn">提交</button>
            </div>
            <div id="webmention-form-feedback"></div>
          </form>
          <p>
            也可以加入 <a href="https://t.me/glowisle">Telegram 频道</a> 或
            <a href="mailto:i@glowisle.me?subject=回复《%e3%80%90%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e4%b8%8e%e7%ae%97%e6%b3%95%e3%80%91%e4%bc%97%e6%95%b0%e3%80%81%e4%b8%ad%e4%bd%8d%e6%95%b0》"
              >发送邮件</a
            >
            评论。
          </p>
          <a href="https://indieweb.org/webmention"
            >关于 Webmention 的更多信息</a
          >
          以及
          <a href="https://www.glowisle.me/posts/tear-hypocrisy-apart/"
            >为什么要这么做？</a
          >
        </div>

        <script>
          function getInitialTheme() {
            
            if (
              typeof localStorage !== "undefined" &&
              localStorage.getItem("theme")
            ) {
              return localStorage.getItem("theme");
            }
            
            if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
              return "dark";
            }
            
            return "light";
          }

          const currentTheme = getInitialTheme();
          const giscusTheme = currentTheme === "dark" ? "dark" : "light";

          const giscusScript = document.createElement("script");
          giscusScript.src = "https://giscus.app/client.js";
          giscusScript.setAttribute(
            "data-repo",
            "yingyu5658/yingyu5658.github.io",
          );
          giscusScript.setAttribute("data-repo-id", "R_kgDOOBetsA");
          giscusScript.setAttribute("data-category", "Announcements");
          giscusScript.setAttribute("data-category-id", "DIC_kwDOOBetsM4CoF_Z");
          giscusScript.setAttribute("data-mapping", "title");
          giscusScript.setAttribute("data-strict", "0");
          giscusScript.setAttribute("data-reactions-enabled", "0");
          giscusScript.setAttribute("data-emit-metadata", "0");
          giscusScript.setAttribute("data-input-position", "bottom");
          giscusScript.setAttribute("data-theme", giscusTheme);
          giscusScript.setAttribute("data-lang", "zh-CN");
          giscusScript.crossOrigin = "anonymous";
          giscusScript.async = true;

          document.getElementById("giscus-container").appendChild(giscusScript);

          document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("webmention-submit-form");
            const submitBtn = document.getElementById("webmention-submit-btn");
            const feedbackEl = document.getElementById(
              "webmention-form-feedback",
            );

            if (!form) return;

            form.addEventListener("submit", async function (e) {
              e.preventDefault();

              
              const originalBtnText = submitBtn.textContent;
              submitBtn.disabled = true;
              submitBtn.textContent = "发送中...";

              
              feedbackEl.textContent = "";

              try {
                
                const formData = new FormData(form);

                
                const response = await fetch(form.action, {
                  method: "POST",
                  headers: {
                    Accept: "application/json",
                  },
                  body: new URLSearchParams(formData),
                });

                const result = await response.json();

                if (response.ok) {
                  
                  feedbackEl.textContent =
                    "✅ 提交成功！Webmention 正在处理中。";
                  form.reset();
                } else {
                  
                  let errorMsg = "提交失败：";
                  if (result.error || result.summary) {
                    errorMsg += result.error || result.summary;
                  }
                  feedbackEl.textContent = errorMsg;
                }
              } catch (error) {
                
                feedbackEl.textContent =
                  "❌ 提交过程中出现网络错误，请稍后重试。";
              } finally {
                
                submitBtn.disabled = false;
                submitBtn.textContent = originalBtnText;
              }
            });
          });
        </script>

        
      </div>
    </div>
  </details>
</div>
</main>
    <footer><div class="copyright">
  © 2024 - 2026 | Made with ❤️ by Verdant.
  <div class="rss-icon">
    <a href="/rss">
      <i class="fa fa-rss"></i>
    </a>
  </div>
</div>
</footer>

    
</body>
</html>
